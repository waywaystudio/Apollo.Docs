\doxysection{Trap.\+cs}
\hypertarget{_trap_8cs_source}{}\label{_trap_8cs_source}\index{C:/Project/Apollo/Assets/Scripts/Common/\_Protocol/\_Component/Trap.cs@{C:/Project/Apollo/Assets/Scripts/Common/\_Protocol/\_Component/Trap.cs}}
\mbox{\hyperlink{_trap_8cs}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{_trap_8cs_source_l00001}00001\ \textcolor{keyword}{using\ }\mbox{\hyperlink{namespace_common_1_1_traps}{Common.Traps}};}
\DoxyCodeLine{\Hypertarget{_trap_8cs_source_l00002}00002\ \textcolor{keyword}{using\ }\mbox{\hyperlink{namespace_common_1_1_units}{Common.Units}};}
\DoxyCodeLine{\Hypertarget{_trap_8cs_source_l00003}00003\ \textcolor{keyword}{using\ }UnityEngine;}
\DoxyCodeLine{\Hypertarget{_trap_8cs_source_l00004}00004\ }
\DoxyCodeLine{\Hypertarget{_trap_8cs_source_l00005}00005\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespace_common}{Common}}}
\DoxyCodeLine{\Hypertarget{_trap_8cs_source_l00006}00006\ \{}
\DoxyCodeLine{\Hypertarget{_trap_8cs_source_l00007}\mbox{\hyperlink{class_common_1_1_trap}{00007}}\ \ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_common_1_1_trap}{Trap}}\ :\ MonoBehaviour,\ \mbox{\hyperlink{interface_common_1_1_i_trap}{ITrap}},\ \mbox{\hyperlink{interface_i_editable}{IEditable}}}
\DoxyCodeLine{\Hypertarget{_trap_8cs_source_l00008}00008\ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_trap_8cs_source_l00009}\mbox{\hyperlink{class_common_1_1_trap_a1f820484a6a7229a67b15f0d5b9c57ab}{00009}}\ \ \ \ \ \ \ \ \ [SerializeField]\ \textcolor{keyword}{protected}\ \mbox{\hyperlink{_data_index_8cs_acd63cd93ca0fdfe8177c88f2bb3b5343}{DataIndex}}\ \mbox{\hyperlink{class_common_1_1_trap_a1f820484a6a7229a67b15f0d5b9c57ab}{trapCode}};}
\DoxyCodeLine{\Hypertarget{_trap_8cs_source_l00010}\mbox{\hyperlink{class_common_1_1_trap_abed33de21cad539e921ba17d7a6bdc0c}{00010}}\ \ \ \ \ \ \ \ \ [SerializeField]\ \textcolor{keyword}{protected}\ \mbox{\hyperlink{class_common_1_1_pre_position}{PrePosition}}\ \mbox{\hyperlink{class_common_1_1_trap_abed33de21cad539e921ba17d7a6bdc0c}{prePosition}};}
\DoxyCodeLine{\Hypertarget{_trap_8cs_source_l00011}\mbox{\hyperlink{class_common_1_1_trap_a22c219089528ad414e41e7df9be00d9b}{00011}}\ \ \ \ \ \ \ \ \ [SerializeField]\ \textcolor{keyword}{protected}\ \mbox{\hyperlink{class_common_1_1_units_1_1_unit_behaviour_table}{UnitBehaviourTable}}\ \mbox{\hyperlink{class_common_1_1_trap_a22c219089528ad414e41e7df9be00d9b}{behaviourTable}};}
\DoxyCodeLine{\Hypertarget{_trap_8cs_source_l00012}\mbox{\hyperlink{class_common_1_1_trap_a1395e3a76ec0f5dfa7d4c0587794975b}{00012}}\ \ \ \ \ \ \ \ \ [SerializeField]\ \textcolor{keyword}{protected}\ \mbox{\hyperlink{class_common_1_1_traps_1_1_trap_spawn_event}{TrapSpawnEvent}}\ \mbox{\hyperlink{class_common_1_1_trap_a1395e3a76ec0f5dfa7d4c0587794975b}{spawnEvent}};}
\DoxyCodeLine{\Hypertarget{_trap_8cs_source_l00013}\mbox{\hyperlink{class_common_1_1_trap_a4ad152a934762ed9eb16a67ccbf6ec00}{00013}}\ \ \ \ \ \ \ \ \ [SerializeField]\ \textcolor{keyword}{protected}\ \mbox{\hyperlink{class_common_1_1_stat_table}{StatTable}}\ \mbox{\hyperlink{class_common_1_1_trap_a4ad152a934762ed9eb16a67ccbf6ec00}{statTable}};}
\DoxyCodeLine{\Hypertarget{_trap_8cs_source_l00014}00014\ }
\DoxyCodeLine{\Hypertarget{_trap_8cs_source_l00015}\mbox{\hyperlink{class_common_1_1_trap_a6f44f96ac65f2ce7a19743eb2ecb499b}{00015}}\ \ \ \ \ \ \ \ \ \textcolor{keyword}{public}\ \mbox{\hyperlink{_data_index_8cs_acd63cd93ca0fdfe8177c88f2bb3b5343}{DataIndex}}\ \mbox{\hyperlink{_data_index_8cs_acd63cd93ca0fdfe8177c88f2bb3b5343}{DataIndex}}\ =>\ \mbox{\hyperlink{class_common_1_1_trap_a1f820484a6a7229a67b15f0d5b9c57ab}{trapCode}};}
\DoxyCodeLine{\Hypertarget{_trap_8cs_source_l00016}\mbox{\hyperlink{class_common_1_1_trap_a53262ff62ee6ea94de7fbab8e30361ed}{00016}}\ \ \ \ \ \ \ \ \ \textcolor{keyword}{public}\ Vector3\ \mbox{\hyperlink{class_common_1_1_trap_a53262ff62ee6ea94de7fbab8e30361ed}{Position}}\ =>\ \mbox{\hyperlink{interface_common_1_1_i_unit_a472a5fbc5ed5f3077bf1a6c46a290e0b}{transform}}.position;}
\DoxyCodeLine{\Hypertarget{_trap_8cs_source_l00017}\mbox{\hyperlink{class_common_1_1_trap_a03ac8330cbceff3a29a562be8bd9cf18}{00017}}\ \ \ \ \ \ \ \ \ \textcolor{keyword}{public}\ Vector3\ \mbox{\hyperlink{class_common_1_1_trap_a03ac8330cbceff3a29a562be8bd9cf18}{Forward}}\ =>\ \mbox{\hyperlink{interface_common_1_1_i_unit_a472a5fbc5ed5f3077bf1a6c46a290e0b}{transform}}.forward;}
\DoxyCodeLine{\Hypertarget{_trap_8cs_source_l00018}\mbox{\hyperlink{class_common_1_1_trap_addfb8f51bed8770ea61bfe91814d0aa8}{00018}}\ \ \ \ \ \ \ \ \ \textcolor{keyword}{public}\ \mbox{\hyperlink{class_common_1_1_stat_table}{StatTable}}\ \mbox{\hyperlink{class_common_1_1_stat_table}{StatTable}}\ =>\ \mbox{\hyperlink{class_common_1_1_trap_a4ad152a934762ed9eb16a67ccbf6ec00}{statTable}};}
\DoxyCodeLine{\Hypertarget{_trap_8cs_source_l00019}\mbox{\hyperlink{class_common_1_1_trap_a13b0b079e9d1e3bb84cdfd83f40a6cf1}{00019}}\ \ \ \ \ \ \ \ \ \textcolor{keyword}{public}\ \mbox{\hyperlink{class_action_table}{ActionTable<CombatLog>}}\ \mbox{\hyperlink{class_common_1_1_trap_a13b0b079e9d1e3bb84cdfd83f40a6cf1}{OnDamageProvide}}\ \{\ \textcolor{keyword}{get};\ \}\ =\ \textcolor{keyword}{new}();}
\DoxyCodeLine{\Hypertarget{_trap_8cs_source_l00020}\mbox{\hyperlink{class_common_1_1_trap_ae3f22090b2493d14c7cbea1eac0d7d77}{00020}}\ \ \ \ \ \ \ \ \ \textcolor{keyword}{public}\ \mbox{\hyperlink{class_action_table}{ActionTable<CombatLog>}}\ \mbox{\hyperlink{class_common_1_1_trap_ae3f22090b2493d14c7cbea1eac0d7d77}{OnHealProvide}}\ \{\ \textcolor{keyword}{get};\ \}\ =\ \textcolor{keyword}{new}();}
\DoxyCodeLine{\Hypertarget{_trap_8cs_source_l00021}\mbox{\hyperlink{class_common_1_1_trap_ade250907e10ef2aac572fa5e9d3dd552}{00021}}\ \ \ \ \ \ \ \ \ \textcolor{keyword}{public}\ \mbox{\hyperlink{class_common_1_1_units_1_1_unit_behaviour_table}{UnitBehaviourTable}}\ Behaviours\ =>\ \mbox{\hyperlink{class_common_1_1_trap_a22c219089528ad414e41e7df9be00d9b}{behaviourTable}};}
\DoxyCodeLine{\Hypertarget{_trap_8cs_source_l00022}\mbox{\hyperlink{class_common_1_1_trap_af2aad5c6c3fb385214eb1cd515dc2ce6}{00022}}\ \ \ \ \ \ \ \ \ \textcolor{keyword}{public}\ \mbox{\hyperlink{class_common_1_1_state_matrix}{StateMatrix}}\ \mbox{\hyperlink{class_common_1_1_trap_af2aad5c6c3fb385214eb1cd515dc2ce6}{CurrentState}}\ =>\ Behaviours.CurrentState;}
\DoxyCodeLine{\Hypertarget{_trap_8cs_source_l00023}\mbox{\hyperlink{class_common_1_1_trap_a27d05dda13bfc2d2c91c12e28f2ef131}{00023}}\ \ \ \ \ \ \ \ \ \textcolor{keyword}{public}\ \mbox{\hyperlink{class_common_1_1_units_1_1_unit_behaviour}{UnitBehaviour}}\ \mbox{\hyperlink{class_common_1_1_trap_a27d05dda13bfc2d2c91c12e28f2ef131}{CurrentBehaviour}}}
\DoxyCodeLine{\Hypertarget{_trap_8cs_source_l00024}00024\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_trap_8cs_source_l00025}00025\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{get}\ =>\ behaviourTable.CurrentBehaviour\ as\ \mbox{\hyperlink{class_common_1_1_traps_1_1_trap_behaviour}{TrapBehaviour}};\ }
\DoxyCodeLine{\Hypertarget{_trap_8cs_source_l00026}00026\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{set}\ =>\ Behaviours.CurrentBehaviour\ =\ value;}
\DoxyCodeLine{\Hypertarget{_trap_8cs_source_l00027}00027\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_trap_8cs_source_l00028}00028\ }
\DoxyCodeLine{\Hypertarget{_trap_8cs_source_l00029}00029\ }
\DoxyCodeLine{\Hypertarget{_trap_8cs_source_l00030}\mbox{\hyperlink{class_common_1_1_trap_abb826b538686d298b7805bceddb2f8b8}{00030}}\ \ \ \ \ \ \ \ \ \textcolor{keyword}{public}\ Transform\ \mbox{\hyperlink{class_common_1_1_trap_abb826b538686d298b7805bceddb2f8b8}{PrePosition}}(\mbox{\hyperlink{namespace_common_a1477a3f269f76077e23fc8292d6c4291}{PrePositionType}}\ type)\ =>\ \mbox{\hyperlink{class_common_1_1_trap_abed33de21cad539e921ba17d7a6bdc0c}{prePosition}}[type];}
\DoxyCodeLine{\Hypertarget{_trap_8cs_source_l00031}00031\ }
\DoxyCodeLine{\Hypertarget{_trap_8cs_source_l00032}\mbox{\hyperlink{class_common_1_1_trap_a1c1592b1eb209251b36b8cb2c470ef94}{00032}}\ \ \ \ \ \ \ \ \ \textcolor{keyword}{public}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_common_1_1_trap_a1c1592b1eb209251b36b8cb2c470ef94}{Initialize}}()}
\DoxyCodeLine{\Hypertarget{_trap_8cs_source_l00033}00033\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_trap_8cs_source_l00034}00034\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_common_1_1_trap_a22c219089528ad414e41e7df9be00d9b}{behaviourTable}}.\mbox{\hyperlink{class_common_1_1_units_1_1_unit_behaviour_table_a806f94d9d174b65e8b14500c81e3a200}{Initialize}}(\textcolor{keyword}{this});}
\DoxyCodeLine{\Hypertarget{_trap_8cs_source_l00035}00035\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_common_1_1_trap_a1395e3a76ec0f5dfa7d4c0587794975b}{spawnEvent}}.\mbox{\hyperlink{class_common_1_1_traps_1_1_trap_spawn_event_aad592b122a7e1677fc66ea0823196b39}{Invoke}}(\textcolor{keyword}{this});}
\DoxyCodeLine{\Hypertarget{_trap_8cs_source_l00036}00036\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_trap_8cs_source_l00037}00037\ }
\DoxyCodeLine{\Hypertarget{_trap_8cs_source_l00038}00038\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Same\ As\ Character\ Stop}}
\DoxyCodeLine{\Hypertarget{_trap_8cs_source_l00039}\mbox{\hyperlink{class_common_1_1_trap_a4dfe13faf8516f9df7da166e1281c975}{00039}}\ \ \ \ \ \ \ \ \ \textcolor{keyword}{public}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_common_1_1_trap_a4dfe13faf8516f9df7da166e1281c975}{DeActive}}()}
\DoxyCodeLine{\Hypertarget{_trap_8cs_source_l00040}00040\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_trap_8cs_source_l00041}00041\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ DeActive\ On\ StageCleared;}}
\DoxyCodeLine{\Hypertarget{_trap_8cs_source_l00042}00042\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_common_1_1_trap_a27d05dda13bfc2d2c91c12e28f2ef131}{CurrentBehaviour}}.HasComponent())}
\DoxyCodeLine{\Hypertarget{_trap_8cs_source_l00043}00043\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_trap_8cs_source_l00044}00044\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_common_1_1_trap_a27d05dda13bfc2d2c91c12e28f2ef131}{CurrentBehaviour}}.\mbox{\hyperlink{class_common_1_1_units_1_1_unit_behaviour_ab2dd38c315aa122e833ab81c279191ea}{Cancel}}();}
\DoxyCodeLine{\Hypertarget{_trap_8cs_source_l00045}00045\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{_trap_8cs_source_l00046}00046\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ var\ retrieveBehaviour\ =\ \mbox{\hyperlink{class_common_1_1_trap_a22c219089528ad414e41e7df9be00d9b}{behaviourTable}}.\mbox{\hyperlink{class_common_1_1_units_1_1_unit_behaviour_table_a1ef7458ba413bfe83f19f686fc21a7e4}{Retrieve}};}
\DoxyCodeLine{\Hypertarget{_trap_8cs_source_l00047}00047\ }
\DoxyCodeLine{\Hypertarget{_trap_8cs_source_l00048}00048\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (retrieveBehaviour\ is\ not\ \textcolor{keyword}{null})}
\DoxyCodeLine{\Hypertarget{_trap_8cs_source_l00049}00049\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_trap_8cs_source_l00050}00050\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ retrieveBehaviour.Active();}
\DoxyCodeLine{\Hypertarget{_trap_8cs_source_l00051}00051\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_trap_8cs_source_l00052}00052\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_trap_8cs_source_l00053}00053\ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{_trap_8cs_source_l00054}00054\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_common_1_1_trap_a22c219089528ad414e41e7df9be00d9b}{behaviourTable}}.\mbox{\hyperlink{class_common_1_1_units_1_1_unit_behaviour_table_a51081cafb037a14c25fe7ba5933e4599}{List}}.ForEach(behaviour\ =>}
\DoxyCodeLine{\Hypertarget{_trap_8cs_source_l00055}00055\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_trap_8cs_source_l00056}00056\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ behaviour.Sections.AddCondition(\textcolor{stringliteral}{"{}DeActive"{}},\ ()\ =>\ \textcolor{keyword}{false});}
\DoxyCodeLine{\Hypertarget{_trap_8cs_source_l00057}00057\ \ \ \ \ \ \ \ \ \ \ \ \ \});}
\DoxyCodeLine{\Hypertarget{_trap_8cs_source_l00058}00058\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_trap_8cs_source_l00059}00059\ }
\DoxyCodeLine{\Hypertarget{_trap_8cs_source_l00060}00060\ }
\DoxyCodeLine{\Hypertarget{_trap_8cs_source_l00061}00061\ \textcolor{preprocessor}{\#if\ UNITY\_EDITOR}}
\DoxyCodeLine{\Hypertarget{_trap_8cs_source_l00062}00062\ \ \ \ \ \ \ \ \ \textcolor{keyword}{public}\ \textcolor{keywordtype}{void}\ EditorSetUp()}
\DoxyCodeLine{\Hypertarget{_trap_8cs_source_l00063}00063\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\Hypertarget{_trap_8cs_source_l00064}00064\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_common_1_1_trap_a22c219089528ad414e41e7df9be00d9b}{behaviourTable}}\ =\ GetComponentInChildren<UnitBehaviourTable>();}
\DoxyCodeLine{\Hypertarget{_trap_8cs_source_l00065}00065\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_common_1_1_trap_abed33de21cad539e921ba17d7a6bdc0c}{prePosition}}\ \ \ \ =\ GetComponentInChildren<PrePosition>();}
\DoxyCodeLine{\Hypertarget{_trap_8cs_source_l00066}00066\ }
\DoxyCodeLine{\Hypertarget{_trap_8cs_source_l00067}00067\ \ \ \ \ \ \ \ \ \ \ \ \ Finder.TryGetObject(out\ \mbox{\hyperlink{class_common_1_1_trap_a1395e3a76ec0f5dfa7d4c0587794975b}{spawnEvent}});}
\DoxyCodeLine{\Hypertarget{_trap_8cs_source_l00068}00068\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_trap_8cs_source_l00069}00069\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{\Hypertarget{_trap_8cs_source_l00070}00070\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_trap_8cs_source_l00071}00071\ \}}

\end{DoxyCode}
